<!DOCTYPE HTML>
<html>
  <head>
    <meta name="google-site-verification" content="AWRwPyqaQPcVwUDaChKxc68D2tGveyxKpdiKaj5R7VA" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" type="text/css" href="./headerstyle.css">
    <style>
    body {
      margin:0;
      background-color: #FFFFFF;
    }
    .topnav {
      overflow: hidden;
      visibility: hidden;
      background-color: #fcfcff;
      border-bottom: 4px rgba(175, 165, 140, .9);
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.2);
    }

    .topnav a {
      float: left;
      display: inline-block;
      color: #33334d;
      text-align: center;
      padding: 12px 22px;
      text-decoration: none;
      font-size: 22px;
      letter-spacing: 2px;
      font-family: "Trebuchet MS";
      border-bottom: 4px rgba(175, 165, 140, .9);
      overflow: hidden;
    }

    .topnav a:hover {
      color: grey;
      padding: 12px 22px;
      font-family: "Trebuchet MS";
    }

    .topnav a.active {
      background-color: #4d6093;
      padding: 12px 22px;
      color: white;
      border-bottom: 4px solid grey;
      box-shadow: inset 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    }

    .desktop{
      float: left;
      display: block;
    }

    .name{
      float: right;
      display: block;
      background-color: #4d6093;
      color: #FFFFFF;
      overflow: hidden;
      text-align: center;
      padding: 14px 22px;
      text-decoration: none;
      font-size: 22px;
      letter-spacing: 3px;
      word-spacing: 6px;
      font-family: "Trebuchet MS";
      z-index: 1;
    }

    div.btncontainer{
      text-align: center;
      justify-content: center;
      border: none;
      background-color: transparent;
      overflow: hidden;
    }

    .dropbtn {
      float: left;
      border: none;
      background-color: transparent;
      color: #4d6093;
      height: 100%;
      padding: 13px 20px;
      font-size: 22px;
      font-weight: bolder;
      letter-spacing: 2px;
      text-shadow: 1px 1px black;
    }

    .dropbtn:hover{
      font-weight: bolder;
      color: #33334d;
      box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }

    .dropbtnup{
      float: left;
      border: none;
      background-color: transparent;
      color: #33334d;
      box-shadow: inset 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      height: 100%;
      padding: 12px 20px;
      font-size: 22px;
      font-weight: bolder;
      letter-spacing: 2px;
      text-shadow: 1px 1px black;
    }

    div.dropdown {
      position: absolute;
      vertical-align: middle;
      display: none;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #fcfcff;
      color: #33334d;
      float: left;
      text-align: center;
      text-decoration: none;
      font-size: 22px;
      letter-spacing: 2px;
      padding: 12px 22px;
      font-family: "Book Antiqua";
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      min-width: 190px;
      overflow: hidden;
      z-index: 1;
    }

    .dropdown-content>li>a {
      word-wrap: break-word;
      white-space: normal;
    }

    .dropdown-content a {
      float: left;
      color: #33334d;
      text-align: center;
      min-width: 190px;
      text-decoration: none;
      height: 55px;
      font-size: 22px;
      letter-spacing: 2px;
      font-family: "Trebuchet MS";
      border-bottom: 4px rgba(175, 165, 140, .9);
      z-index: 1;
    }

    .dropdown-content a.active {
      background-color: #4d6093;
      color: white;
      border-bottom: 4px solid grey;
      min-width: 190px;
    }

    .dropdown a:hover:not(.active) {
      color: grey;
    }

    p.center{
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:18px;
      word-spacing: 2px;
      line-height: 1.5;
      margin: auto;
    }
    p {
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:18px;
      word-spacing: 2px;
      line-height: 1.5;
      margin-left: 20%;
      margin-right: 20%;
     }

     .cover {
       position: absolute;
       height: 100%;
       width: 100%;
       top:0;
       left: 0;
       background-color: #FFFFFF;
       display: block;
     }

    .show {display: inline-block;}

    @media only screen and (min-width: 200px) and (max-width:700px) {
      div.dropdown{display: inline-block;}
      div.desktop{display: none;}
      .name{padding: 14px 18px;
            font-size: 22px;
            letter-spacing: 1px;
            word-spacing: 2px;}
      }
    }
    </style>
  </head>
  <body onload="myload()">
    <div class="cover" id="cover">
      <p class="center" style=""></p>
    </div>
    <div class="topnav" id="topnav">
      <input id="blur-hack" type="text" style="position: absolute; opacity: 0;">
      <div class="name" id="name">
         Hillel Steinmetz
      </div>
      <div class="desktop" id="navbardesktop">
       
         <a href="http://localhost:4000">Home</a>
       

       
         <a href="/about.html">About Me</a>
       

       
         <a href="/resume.html">Resume</a>
       

       
         <a href="/contact.html">Contact Me</a>
       
     </div>
      <div class="dropdown" id="navbarmobile">
        <div class="btncontainer" id='but'>
        <button onclick="myFunction()" class="dropbtn" id="realbutton" value="down" style="font-size: 22px">&#9660;</button>
      </div>
          <div id="myDropdown" class="dropdown-content">
             
               <a href="http://localhost:4000">Home</a>
             

             
               <a href="/about.html">About Me</a>
             

             
               <a href="/resume.html">Resume</a>
             

             
               <a href="/contact.html">Contact Me</a>
             
           </div>
         </div>
       </div>
  <script>
    /* When the user clicks on the button,
    toggle between hiding and showing the dropdown content */
    function myFunction() {
      document.getElementById("myDropdown").classList.toggle("show");
      togglevalue();
    };

    // toggle focus css from: https://stackoverflow.com/questions/11371550/change-hover-css-properties-with-javascript
    function togglefocus(){
      var styleup = "dropbtn:focus{ color: #FFFFFF; box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.2); }";
      var styledown = "dropbtn:focus{ color: #4d6093; box-shadow: none; }";
      var css = styledown
      switch (document.getElementById("realbutton").value) {
        case "up":
          css = styledown;
          break;
        case "down":
          css = styleup;
          break;
      }
      var style = document.createElement('style');
      if (style.styleSheet) {
          style.styleSheet.cssText = css;
      } else {
          style.appendChild(document.createTextNode(css));
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    };
    // helper function for changing values
    function togglevalue() {
      var butn = document.getElementById("realbutton");
      var butnv = document.getElementById("realbutton").value;
      switch (butnv) {
        case "down":
          butn.value="up";
          butn.innerHTML="&#9650;";
          butn.removeAttribute("dropbtn");
          butn.className="dropbtnup";
          break;
        case "up":
          butn.value="down";
          butn.innerHTML="&#9660;";
          butn.removeAttribute("dropbtnup");
          butn.className="dropbtn";
          break;
        default:
          butn.value="down";
          butn.innerHTML="&#9660;";
          break;
      }
    };

    function focustoggle(){
      if(document.getElementById("realbutton").value=="down"){
        document.getElementById("blur-hack").focus();
        document.getElementById("realbutton").blur();
        document.getElementById("but").blur();
      }
    };

    // Close the dropdown if the user clicks OUTSIDE of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn') && !event.target.matches('.dropbtnup')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i <  dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
        if(document.getElementById("realbutton").value=="up"){
          togglevalue();
        }
      }
    };
    // from: https://www.tutorialrepublic.com/faq/how-to-capture-browser-window-resize-event-in-javascript.php#:~:text=Answer%3A%20Use%20the%20addEventListener(),the%20browser%20window%20on%20resize.
    function getWindowSize(){
    // Get width and height of the window excluding scrollbars
    var w = document.documentElement.clientWidth;
    var h = document.documentElement.clientHeight;
    // Display result inside a div element
    return([w, h]);
    };

    // from: https://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements

    var init1 = 0;
    var init2 = "nothing";

    function getinit(){
      var e2 = document.getElementById('navbardesktop');
      var r2 = e2.getBoundingClientRect();
      updateinit(r2.right);
    };

    function updateinit(n){
      window.init1 = n;
      if(window.init1==0)
        {window.init2="mobile";}
      else{window.init2="desktop";}
    }

    function initNavbar(){
      var e1 = document.getElementById('name');
      var r1 = e1.getBoundingClientRect();
      var e2 = document.getElementById('navbardesktop');
      var r2 = e2.getBoundingClientRect();
      if(window.init2=="desktop"){
        overlap = ((r1.left - 15) < window.init1);
        if(overlap) {
          document.getElementById("navbarmobile").style.display="inline-block";
          document.getElementById("navbardesktop").style.display="none";
        } else {
          document.getElementById("navbarmobile").style.display="none";
          document.getElementById("navbardesktop").style.display="inline-block";
        }
      }
      var but = document.getElementById('navbarmobile');
      but.style.maxHeight = r1.bottom;
      var x = document.getElementById('topnav');
      x.style.visibility="visible";
    };

    function myload(){
      getinit();
      initNavbar();
      var x = document.getElementById("cover");
      x.style.display="none";
    };

    function resizeNavbar(){
      var e1 = document.getElementById('name');
      var r1 = e1.getBoundingClientRect();
      var e2 = document.getElementById('navbardesktop');
      var r2 = e2.getBoundingClientRect();
      if(r2.right>window.init1) {
        updateinit(r2.right);
      }
      if(window.init2=="desktop"){
        overlap = ((r1.left - 15) < window.init1);
        if(overlap) {
          document.getElementById("navbarmobile").style.display="inline-block";
          document.getElementById("navbardesktop").style.display="none";
        } else {
          document.getElementById("navbarmobile").style.display="none";
          document.getElementById("navbardesktop").style.display="inline-block";
        }
      }
    };

    function test(){
      var e1 = document.getElementById('name');
      var r1 = e1.getBoundingClientRect();
      right1 = r1.right;
      alert("right" + right1);
    };

    window.addEventListener("resize", resizeNavbar);

    </script>
    <noscript><META HTTP-EQUIV="Refresh" CONTENT="0;URL=error.html">
      Uh oh! Your browser either doesn't support JavaScript or has JavaScript disabled. My site might not be accessible to you.</noscript>
  </body>
</html>

<html>
  <head>
    <meta name="google-site-verification" content="AWRwPyqaQPcVwUDaChKxc68D2tGveyxKpdiKaj5R7VA" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>Language Family Quiz</title>
    <style>
    body {
      background-color: #FFFFFF;
    }

    h1 {
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:45px;
      letter-spacing: 4px;
      word-spacing: 8px;
      margin-bottom: 1%;
      margin-left: 5%;
      margin-right: 5%;
      text-align: center;
    }
    h2 {
      font-family: "Trebuchet MS";
      font-size:36px;
      letter-spacing: 5px;
      word-spacing: 8px;
      margin-bottom: 2%;
      margin-left: 5%;
      margin-right: 5%;
      text-align: center;
    }
    p {
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:18px;
      word-spacing: 2px;
      line-height: 1.5;
      margin-left: 20%;
      margin-right: 20%;
     }
     p.main {
     font-family: "Trebuchet MS", Helvetica, sans-serif;
     font-size:18px;
     word-spacing: 2px;
     line-height: 1.5;
     margin-left: 5%;
     margin-right: 5%;
    }
    img {
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .block {
      display: inline-block;
      width: 5px;
      height: 5px;
      margin-left: 7px;
      margin-right: 7px;
      background-color: black;
    }
    .container  {
      text-align: center;
      margin-bottom: 2%;
    }
    div.image{
      height: 50vh;
      width: 80vw;
      margin:auto;
      align-items: center;
      justify-content: center;
      display: inline-block;
    }
    div.pdf{
      text-align: center;
      display: block;
      margin: auto;
      height: 80vh;
      width: 80vw;
    }
    .email-outer{
      border-radius: 10px;
      color: solid black;
      padding: 18px;
      margin: auto;
      width: 55%;
      height: 55%;
      border: 2px solid black;
      text-align: center;
      margin-bottom: 2%;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19);
    }
    .email-inner{
      border-radius: 10px;
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:18px;
      word-spacing: 4px;
      letter-spacing: 2px;
      line-height: 1.5;
      margin: auto;
      width: 90%;
      height: 90%;
      padding: 10px;
      text-align: left;
    }
    textarea{width: 100%}
    .center{
      text-align: center;
      margin: auto;
    }
    button.submit{
      width: 90%;
      background-color: #4d6093;
      color: #FEFEFE;
      overflow: hidden;
      padding: 14px 24px;
      text-decoration: none;
      font-size: 18px;
      letter-spacing: 3px;
      word-spacing: 6px;
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }
    button.submit:hover{
      background-color: #4d6093;
      box-shadow: inset 0 12px 24px 0 rgba(0, 0, 0, 0.2);
    }
    p.mobile{
      font-family: "Trebuchet MS", Helvetica, sans-serif;
      font-size:18px;
      word-spacing: 2px;
      line-height: 1.5;
      margin-left: 5%;
      margin-right: 5%;
      text-align: center;
      display: none;
    }
    div.resume{
      font-family: "Book Antiqua";
      font-size:18px;
      word-spacing: 2px;
      margin-right: 9%;
      margin-left: 9%;
      margin-bottom: 2%;
      line-height: 1.5;
      text-align: left;
    }
    p.resume{
      font-family: "Book Antiqua";
      font-size:18px;
      word-spacing: 2px;
      margin-right: 12%;
      margin-left: 12%;
      margin-top: 1px;
      margin-bottom: 1px;
      line-height: 2;
      text-align: left;
    }
    h3 {
      font-family: "Book Antiqua";
      font-size:24px;
      word-spacing: 2px;
      letter-spacing: 4px;
      text-align: left;
      margin-bottom: : 2px;
    }
    .mobilecont{
      text-align: center;
      display:none;
      margin-bottom: 2%;
    }
    .mobileblock {
      width: 5px;
      height: 5px;
      margin-left: 7px;
      margin-right: 7px;
      background-color: black;
      display:none;
    }

    * {
      box-sizing: border-box;
    }

    /* Create two equal columns that floats next to each other */
    .column1 {
      width: 40%;
      float: left;
      padding: 20px 10px 20px 7%;
    }

    .column2 {
      width: 60%;
      float: left;
      padding: 20px 7% 20px 10px;
    }

    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    input[type="text"]{
      font-family: "Trebuchet MS"
    }

    @media only screen and (min-width: 200px) and (max-width:700px) {
      p {margin-left: 5%; margin-right: 5%; font-size:16px}
      p.mobile{display: block;}
      .mobilecont{display: block;}
      .mobileblock{display: inline-block;}
      div.email{margin-left: 5%; margin-right: 5%; font-size:16px}
      .column1{width:100%; padding: 2% 5% 2% 5%}
      .column2{width:100%; padding: 2% 5% 2% 5%}
      img{max-height: 40vh}
      div.resume{margin-left: 5%; margin-right: 5%}
      div.resume{font-size:16px;}
      div.pdf{display: none;}
      .email-outer{width: 90%}
    }
    </style>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Language Family Quiz | hasteinmetz.github.io</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Language Family Quiz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Test your knowledge of language families! Learn something new!" />
<meta property="og:description" content="Test your knowledge of language families! Learn something new!" />
<link rel="canonical" href="http://localhost:4000/quiz/quiz.html" />
<meta property="og:url" content="http://localhost:4000/quiz/quiz.html" />
<meta property="og:site_name" content="hasteinmetz.github.io" />
<script type="application/ld+json">
{"url":"http://localhost:4000/quiz/quiz.html","headline":"Language Family Quiz","description":"Test your knowledge of language families! Learn something new!","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <html>
<head>
  <link rel="stylesheet" href="Contents/defaultstyle.css">
</head>
<body onload="load();">
  <div>
    <h1>Language Family Quiz (Very Early Version)</h1>
  </div>
  <div class="modal">
    <div class="modal-content">
      <div class="center">
        <p id="feedback"></p><br>
        <p id="more"></p><a id="info" href="#">Wikipedia</a><br>
        <button class="continue">>></button>
      </div>
    </div>
  </div>
  <div class="cover" id="cover">
    <p class="center" style=""></p>
  </div>
    <div class="center">
      <p id="demo"></p>
      <p class="center" id='question'>?
      </p>
      <br><br>
      <button type="submit" class="submit" id="q.1"></button>
      <br>
      <button type="submit" class="submit" id="q.2"></button>
      <br>
      <button type="submit" class="submit" id="q.3"></button>
      <br>
      <button type="submit" class="submit" id="q.4"></button>
      <br>
      <button type="submit" class="submit" id="q.5"></button>
      <br><br><br>
      <p class="center" id='difficulty'></p>
      <br>
      <p class="center" id='lives'></p>
      <br>
      <p class="center" id='score'></p>
      <br>
      <p class="center" id='hscore'></p>
    </div>
  <script src="Contents/languages1.js"></script>
  <script>
  //to do:
  // filter object
  // fix Tongan
  // fix mon-khmer
    function randomno(n){
      var num = Math.floor(Math.random() * n);
      return num;
    }

    function removeelem(arr, e){
      for(i= 0; i < arr.length; i++){
        if (arr[i] === e) {
            var arr1 = arr.slice(0,i);
            var arr2 = arr.slice(i+1,arr.length);
            return(arr1.concat(arr2));
        }
      }
    return(arr);
    }

    function removelang(str){
      string = split(str);
      result = [];
      var resstring = ""
      for(i=0;i<string.length;i++){
        tmp = string[i];
        tmp.toLowerCase();
        if(tmp!="language"&tmp!="languages"){
          result.push(tmp);
        }
      }
      for(j=0;j<result.length;j++){
        resstring = resstring + result[j]
      }
      return(resstring)
    }

    function filterlanguages(obj, prop, predicate) {
      let keys = Object.keys(obj);
      let newobj = {};
      for (key in keys){
        lang = keys[key]
        let tmp = obj[lang]
        if(prop in tmp && predicate(tmp)){
          newobj[lang] = tmp;
        }
      }
      return(newobj)
    }

    // reference to page variables
    var moreinfo;
    var ref;

    function randomq(){
      var difficultyarr = difficultyallowed(numcorrect)
      const languagesnew = filterlanguages(languages, "difficulty", (a) => difficultyarr.includes(a["difficulty"]));
      console.log("filtered: ", languagesnew)
      const keys = Object.keys(languagesnew)
      var language = keys[randomno(keys.length)];
      console.log("lang = ", language)
      var languagefam = languages[language]["mainfam"]
      moreinfo = languages[language]["link"]
      if(languagefam != "NA" && languagefam != "cant" && !prevq.includes(language)){
        if(difficultyarr.includes(languages[language]["difficulty"])){
          return([language, languagefam]);
        } else {
          return(randomq());
        }
      }
      else {
        return(randomq());
      }
    };

    function exceptions(fam){
      if(fam=="NA" || fam.toLowerCase()=="unclassified" ||
      fam.toLowerCase()=="N" || fam.length < 4){
        return(0);
      } else {
        return(1);
      }
    }

    function famexcept(lang, fam){
      if((fam=="Indo-European" || fam=="Indo\u2013European" || fam.includes("uropean")) && indoeur.includes(lang)){
        return(1);
      }
      if((fam=="Niger\u2013Congo" || fam.includes("ongo")) && ncongo.includes(lang)){
        return(1);
      }
      if((fam=="Afro-Asiatic" || fam.includes("fro")) && afroa.includes(lang)){
        return(1);
      }
      return(0);
    }

    var indoeur = ["Slavic", "Baltic", "Romance", "Germanic", "Indo-Aryan", "Iranian", "Celtic"]
    var ncongo = ["Bantu"]
    var afroa = ["Semitic"]

    function randomans(array){
      const keys = Object.keys(languages);
      var ran_key = randomno(keys.length);
      var ran_lang = String(keys[ran_key]);
      var tmp = languages[ran_lang]["mainfam"];
      if(tmp.toLowerCase()=="language isolate"){
        tmp = "Language Isolate";
      }
      var famex = famexcept(tmp, array[0])
      console.log("Family Except:" + famex + " " + tmp + array[0])
      if(array.includes(tmp) || exceptions(tmp)==0 || famex==1){
        return randomans(array);
      }
      else {
        console.log("randomans: " + String(tmp))
        return tmp;
      };
    };

    function randomqtype(){
      var ran_key = randomno(2);
      var questiontypes = ["where", "what"]
      return(questiontypes[ran_key]);
    };

    function makearray(num){
      array = []
      for(i = 1;i < num+1; i++){
        array.push(i);
      }
      return(array)
    };

    function difficultyallowed(cor){
      j = 1
      for(i=0;i<amount.length;i++){
        if(numcorrect > amount[i]){
          j++;
        }
      }
      m = Math.max(0, j-1)
      return(difficulty.slice(m,j));
    }

    function determinescore(){
      var multiplier = difficultyallowed(numcorrect).length
      return(100 * multiplier)
    }

    var difficulty = ["easy", "medium", "hard", "very hard", "super hard", "whizkid"];

    var amount = [5, 10, 15, 20, 25, 30];

    var prevq = [];

    var numcorrect = 0;

    var lives = 3;

    var score = 0;

    var highscore = 0;

    var qno = 5;

    var qarray = makearray(qno);

    function randompos(init, ref){
      if(ref.length>0){
        position = randomno(ref.length);
        pos = init[position];
        newref = removeelem(ref, ref[position]);
        newinit = removeelem(init, pos);
        array1 = [pos];
        if(ref.length===1) {
          return(array1)
        } else {
          return (array1.concat(randompos(newinit, newref)));
        }
      }
    }

    function getquestion(){
      var array = []
      var ques = randomq()
      array.push(String(ques[1]))
      for(i=0; i < (qno - 1); i++){
        tmp = randomans(array);
        array.push(tmp);
      }
      console.log("getquestion " + String(ques[0]) + " " + String(array))
      return([ques[0], array]);
    };

    function setqtext(num, answers, language){
      document.getElementById("question").innerHTML = "What family does the " + language + " belong to?";
      for(i=1;i<num+1;i++){
        string = "q." + String(i);
        j = i - 1;
        console.log(string)
        document.getElementById(string).textContent = answers[j];
      }
    };

    var language;
    var correct;
    var answers;
    var feedback;
    var mod = document.getElementsByClassName("modal")[0];

    function replacetext(){
      var q = getquestion();
      language = q[0];
      prevq.push(language);
      correct = q[1][0];
      answers = randompos(q[1], qarray, q[1].length);
    };
    // need interactive elements (click, check correct, etc.)

    function getscore(){
      document.getElementById("score").innerHTML = "Score: " + String(score)
      document.getElementById("lives").innerHTML = "Lives: " + String(lives)
      document.getElementById("hscore").innerHTML = "High Score: " + String(highscore)
    };

    function load(){
      lives = 3;
      score = 0;
      qno = 5;
      document.getElementsByClassName("continue")[0].textContent = ">>"
      replacetext();
      setqtext(qno, answers, language)
      getscore();
      var x = document.getElementById("cover");
      x.style.display="none"
    }

    // Click events
    window.onclick = function(event) {
      if (event.target.matches('button.submit')) {
        ref = "Read more about " + correct + " on "
        if(lives>0){
          if(event.target.textContent == correct){
            addition = determinescore()
            score = score + addition;
            numcorrect += 1;
            feedback = "Correct! Nice job :) <br>Current score:" + score
            togglemodal();
            nextquestion();
          } else {
            lives -= 1;
            if(lives>0){
              feedback = "Incorrect... Better luck on the next one! <br>Current score:" + score + "<br>The correct answer is: " + correct
              togglemodal();
              nextquestion();
            }
            else{
              document.getElementById("lives").innerHTML = "Lives: " + String(lives)
              document.getElementsByClassName("continue")[0].textContent = "Play Again?"
              feedback = "<br>The correct answer is: " + correct + "<br>All out of lives :( <br>You scored: " + String(score)
              if(score > highscore){
                highscore = score;
                document.getElementById("hscore").innerHTML = "High Score: " + String(lives)
              }
              togglemodal();
            }
          }
        }
      }
      if (mod.classList.contains('show') && lives==0 && (event.target.matches('.continue') || event.target == mod)) {
        togglemodal();
        numcorrect = 0;
        load();
      }
      else if (mod.classList.contains('show') && (event.target.matches('.continue') || event.target == mod)) {
        togglemodal();
      }
    };

    function togglemodal(){
      console.log("modal activated")
      var f = document.getElementById("feedback")
      var p = document.getElementById("more")
      var l = document.getElementById("info")
      f.innerHTML = feedback;
      p.innerHTML = ref;
      l.href = moreinfo;
      mod.classList.toggle("show");
    }

    function nextquestion(){
      var x = document.getElementById("cover");
      x.style.display="block";
      replacetext();
      setqtext(qno, answers, language)
      getscore();
      x.style.display="none";
    }

    // prevent issue with Tongan lol
  </script>
  <noscript>
    <META HTTP-EQUIV="Refresh" CONTENT="0;URL=../error.html">
    Uh oh! Your browser either doesn't support JavaScript or has JavaScript disabled.
    My site might not be accessible to you.
  </noscript>
</body>
</html>

  </body>
  </div>
</html>
